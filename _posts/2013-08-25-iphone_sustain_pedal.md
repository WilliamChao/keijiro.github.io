---
layout: post
title: iPhone を使った MIDI サスティンペダル
category: posts
---

![iphone sustain pedal](/images/2013-08-25-1.jpg)

僕は KORG の microKORG や microKEY を打ち込み用の鍵盤としてよく使っている。この手のミニ鍵盤デバイスはラップトップ環境との組み合わせにとても便利なのだけれど、いくつか弱点がある。その弱点のひとつは、サスティンペダルを接続する端子を持っていないということだ。

解決法は無いわけでもない。microKORG の場合は MIDI IN 端子からサスティン信号を送り込んでやれば受け付けるし、microKEY の場合は別途 MIDI インタフェース経由でサスティンペダルを繋いだうえで DAW 上で統合してやればなんとかなる。

この解決法で問題となるのは、MIDI を直接吐いてくれるサスティンペダルが製品として存在しないということだ。

それならば、作ってしまえばいい。

---

この手の変換器は Arduino を使えば簡単に作れるけども、サスティン信号のためだけに電源を確保するというのも、なんだかちょっと野暮ったい話だ。ケーブルの回しも複雑になってしまい、スマートにまとめられる気がしない。

そこで、iPhone をサスティンペダルの代用として使うというアイデアを先に試してみることにした。iPhone ならたいてい充電された状態になっているから、電源の心配は無い。MIDI アダプタ経由で MIDI 信号を吐くこともできるから、この手の用途には適しているはずだ。

実際に作ってみた。[こんな感じ](https://vine.co/v/heDitAxudra)。

ソースコードは例のごとく [GitHub に置いておいた](https://github.com/keijiro/sustain-pedal-ios)。主要なソースコードは[たったこれだけ](https://github.com/keijiro/sustain-pedal-ios/blob/master/SustainPedal/SustainPedalViewController.m)。Core MIDI は案外に手軽な API だなと思う。

使い心地は、まあそこそこ。実際に踏んづけている感触は得られないため、ちゃんと操作できているような、できていないような、なんとも曖昧な気分になる。手軽な代用品としては悪くないか、という程度。

それと、当然のことながら素足でないと操作できない。また寒くなる頃までには、Arduino を使った変換器を作ろうと思う。
